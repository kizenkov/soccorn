(this.webpackJsonpcorn=this.webpackJsonpcorn||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"c",(function(){return x}));var r=n(5),a=n.n(r),c=n(16),s=n(2),o=n(1),i=n.n(o),u=n(15),l="app/SET_INITIALIZED",b="app/SET_BACKGROUND_VIOLET",d="app/SET_BACKGROUND_CORN",j="app/SET_BACKGROUND_LIGHT",p=i.a.createContext(),f={initialized:!1,backgroundHeaderNavbar:"black",backgroundContent:"gold",backgroundButton:"darkorange"},h=function(){return{type:b}},O=function(){return{type:d}},g=function(){return{type:j}},x=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Object(u.b)());case 2:t({type:l});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(s.a)(Object(s.a)({},e),{},{initialized:!0});case b:return Object(s.a)(Object(s.a)({},e),{},{backgroundHeaderNavbar:"grey",backgroundContent:"pink",backgroundButton:"violet"});case d:return Object(s.a)(Object(s.a)({},e),{},{backgroundHeaderNavbar:"black",backgroundContent:"gold",backgroundButton:"darkorange"});case j:return Object(s.a)(Object(s.a)({},e),{},{backgroundHeaderNavbar:"lightblue",backgroundContent:"lightgray",backgroundButton:"lightgray"});default:return e}}},113:function(e,t,n){"use strict";t.a=n.p+"static/media/userIcon.e289728f.jpg"},114:function(e,t,n){"use strict";var r=n(2),a=n(3),c=n(4),s=n(11),o=n(12),i=n(1),u=n.n(i),l=n(9),b=n(19),d=n(0),j=function(e){return{isAuth:e.auth.isAuth}};t.a=function(e){var t=function(t){Object(s.a)(i,t);var n=Object(o.a)(i);function i(){return Object(a.a)(this,i),n.apply(this,arguments)}return Object(c.a)(i,[{key:"render",value:function(){return Object(d.jsxs)("div",{children:[!this.props.isAuth&&Object(d.jsx)(l.a,{to:"/login"}),Object(d.jsx)(e,Object(r.a)({},this.props))]})}}]),i}(u.a.Component);return Object(b.b)(j,{})(t)}},115:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(64),a=n(14),c=n(2),s="dialogs/SET_ACTIVE_NAME_DIALOGS",o="dialogs/SEND_MESSAGE",i={dialogs:{Ann:[{id:1,whoWrite:"Ann",dialogMessage:"Hello!"},{id:2,whoWrite:"me",dialogMessage:"Hi!"},{id:3,whoWrite:"Ann",dialogMessage:"How your js?"},{id:4,whoWrite:"me",dialogMessage:"so baaad...."},{id:5,whoWrite:"Ann",dialogMessage:"ah..."}],Pete:[{id:1,whoWrite:"Pete",dialogMessage:"Hello!"},{id:2,whoWrite:"me",dialogMessage:"Hi!"}],John:[{id:1,whoWrite:"John",dialogMessage:"Hello!"},{id:2,whoWrite:"me",dialogMessage:"Hi!"},{id:3,whoWrite:"John",dialogMessage:"How your js?"},{id:4,whoWrite:"me",dialogMessage:"so baaad...."},{id:5,whoWrite:"John",dialogMessage:"ah..."},{id:6,whoWrite:"me",dialogMessage:"so baaad...."},{id:7,whoWrite:"John",dialogMessage:"ah..."}]},activeNameDialogs:null},u=function(e){return{type:s,name:e}},l=function(e,t){return{type:o,message:e,user:t}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(c.a)(Object(c.a)({},e),{},{activeNameDialogs:t.name});case o:return Object(c.a)(Object(c.a)({},e),{},{dialogs:Object(c.a)(Object(c.a)({},e.dialogs),{},Object(r.a)({},t.user,[].concat(Object(a.a)(e.dialogs[t.user]),[{id:e.dialogs[t.user].length+1,whoWrite:"me",dialogMessage:t.message}])))});default:return e}}},116:function(e,t,n){"use strict";n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return N}));var r=n(5),a=n.n(r),c=n(16),s=n(14),o=n(2),i=n(17),u=n(15),l=n(28),b="users/FOLLOW",d="users/UNFOLLOW",j="users/SET_USERS",p="users/SET_TOTAL_COUNT",f="users/SET_CURRENT_PAGE",h="users/SET_DISABLED",O="users/SET_UNDISABLED",g={users:[],totalCount:0,pageSize:10,currentPage:1,isDisable:[]},x=function(e){return{type:b,userId:e}},v=function(e){return{type:d,userId:e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:f,currentPage:e}},k=function(e){return{type:h,userId:e}},w=function(e){return{type:O,userId:e}},_=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Object(u.e)(!0)),n.next=3,i.c.getUsers(e,t);case 3:c=n.sent,r((s=c.data.items,{type:j,users:s})),r((a=c.data.totalCount,{type:p,totalCount:a})),r(m(e)),r(Object(u.e)(!1));case 8:case"end":return n.stop()}var a,s}),n)})));return function(e){return n.apply(this,arguments)}}()},C=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(k(n)),e.next=3,r(n);case 3:s=e.sent,t(w(n)),0===s.data.resultCode&&t(c(n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),y=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C(n,e,i.c.follow,x);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C(n,e,i.c.unfollow,v);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(o.a)(Object(o.a)({},e),{},{users:Object(l.c)(e.users,t.userId,"id",{followed:!0})});case d:return Object(o.a)(Object(o.a)({},e),{},{users:Object(l.c)(e.users,t.userId,"id",{followed:!1})});case j:return Object(o.a)(Object(o.a)({},e),{},{users:t.users});case p:return Object(o.a)(Object(o.a)({},e),{},{totalCount:t.totalCount});case f:return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.currentPage});case h:return Object(o.a)(Object(o.a)({},e),{},{isDisable:[].concat(Object(s.a)(e.isDisable),[t.userId])});case O:return Object(o.a)(Object(o.a)({},e),{},{isDisable:e.isDisable.filter((function(e){return e!==t.userId}))});default:return e}}},119:function(e,t,n){e.exports={button:"button_button__3gD_e"}},125:function(e,t,n){e.exports={loading:"Loading_loading__2ZLfK"}},133:function(e,t,n){},134:function(e,t,n){},15:function(e,t,n){"use strict";n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return v}));var r=n(5),a=n.n(r),c=n(16),s=n(2),o=n(17),i="auth/SET_AUTH_DATA",u="auth/LOGOUT",l="auth/LOGIN",b="auth/SET_IS_FETCHING",d="auth/WRONG_DATA",j="app/SET_CAPTCHA_URL",p={userId:null,login:null,email:null,isAuth:!1,isFetching:!1,wrongData:!1,captchaUrl:""},f=function(e){return{type:b,isFetching:e}},h=function(e){return{type:d,wrongData:e}},O=function(e){return{type:j,url:e}},g=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.authMe();case 2:0===(n=e.sent).data.resultCode&&t((r=n.data.data,{type:i,data:r}));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(e,t,n,r){return function(){var s=Object(c.a)(a.a.mark((function c(s){var i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.login(e,t,n,r);case 2:if(0!==(i=a.sent).data.resultCode){a.next=8;break}s(g()),s(O(null)),a.next=13;break;case 8:if(10!==i.data.resultCode){a.next=11;break}return s(m()),a.abrupt("return");case 11:s(h(i.data.messages[0])),setTimeout((function(){s(h(null))}),1e3);case 13:case"end":return a.stop()}}),c)})));return function(e){return s.apply(this,arguments)}}()},v=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.logout();case 2:0===e.sent.data.resultCode&&t({type:u});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.getCaptcha();case 2:(n=e.sent).data.url&&t(O(n.data.url));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(s.a)(Object(s.a)(Object(s.a)({},e),t.data),{},{isAuth:!0});case u:case l:return Object(s.a)(Object(s.a)({},e),{},{isAuth:!1});case b:return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.isFetching});case d:return Object(s.a)(Object(s.a)({},e),{},{wrongData:t.wrongData});case j:return Object(s.a)(Object(s.a)({},e),{},{captchaUrl:t.url});default:return e}}},17:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n(118),a=r.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"f7609989-8524-45ae-bbba-10ed530a756b"}}),c={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return a.get("users?count=".concat(t,"&page=").concat(e))},follow:function(e){return a.post("follow/".concat(e))},unfollow:function(e){return a.delete("follow/".concat(e))}},s={getProfile:function(e){return a.get("profile/".concat(e))},authMe:function(){return a.get("auth/me")},getStatus:function(e){return a.get("/profile/status/".concat(e))},updateStatus:function(e){return a.put("/profile/status",{status:e})},login:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return a.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},logout:function(){return a.delete("auth/login")},savePhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return a.put("profile",e)}},o={getCaptcha:function(){return a.get("security/get-captcha-url")}}},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(1);var r=n(119),a=n.n(r),c=n(0),s=function(e,t,n,r,s){return Object(c.jsx)("button",{className:a.a.button,type:s,disabled:n,onClick:t,style:{background:r},children:e})}},260:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(59),s=n.n(c),o=(n(133),n(3)),i=n(4),u=n(11),l=n(12),b=(n(134),n(52)),d=n.n(b),j=n.p+"static/media/corn.f193bbcf.png",p=n(18),f=n(19),h=n(15),O=n(10),g=n(33),x=n(0);var v=Object(f.b)((function(e){return{isAuth:Object(g.c)(e)}}),{logouted:h.d})((function(e){var t=e.isAuth,n=e.logouted,a=Object(r.useContext)(O.a);return Object(x.jsxs)("div",{className:d.a.header,style:{backgroundColor:a.backgroundHeaderNavbar},children:[Object(x.jsx)(p.b,{to:"/",children:Object(x.jsx)("img",{src:j,alt:"corn",className:d.a.headerImg})}),t?Object(x.jsx)("div",{className:d.a.login,children:Object(x.jsx)("span",{onClick:n,children:"Log out"})}):Object(x.jsx)(p.b,{to:"/login",className:d.a.login,children:"Login"})]})})),m=n(68),k=n.n(m),w=n(25);var _=Object(f.b)((function(){return{}}),{setBackgroundLight:O.e,setBackgroundCorn:O.d,setBackgroundViolet:O.f})((function(e){var t=e.setBackgroundLight,n=e.setBackgroundCorn,a=e.setBackgroundViolet,c=Object(r.useContext)(O.a);return Object(x.jsxs)("div",{className:k.a.navbar,style:{backgroundColor:c.backgroundHeaderNavbar},children:[Object(x.jsxs)("div",{className:k.a.links,children:[Object(x.jsx)("div",{children:Object(x.jsx)(p.b,{to:"/profile",children:"My profile"})}),Object(x.jsx)("div",{children:Object(x.jsx)(p.b,{to:"/dialogs",children:"Dialogs"})}),Object(x.jsx)("div",{children:Object(x.jsx)(p.b,{to:"/users",children:"Users"})})]}),Object(x.jsxs)("div",{className:k.a.themeButtons,children:[Object(x.jsx)("div",{children:Object(w.a)("Violet theme",(function(){return a()}),!1,c.backgroundButton)}),Object(x.jsx)("div",{children:Object(w.a)("Corn theme",(function(){return n()}),!1,c.backgroundButton)}),Object(x.jsx)("div",{children:Object(w.a)("Light theme",(function(){return t()}),!1,c.backgroundButton)})]})]})})),C=n(9),y=n(8),N=n.n(y),P=n(26),S=function(e){return Object(x.jsxs)("div",{className:N.a.information,children:[Object(x.jsx)("b",{children:"About me:"})," ",e.profile.aboutMe," ",Object(x.jsx)("br",{}),Object(x.jsx)("b",{children:"My contacts:"}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{children:"facebook:"})," ",e.profile.contacts.facebook,Object(x.jsx)("br",{}),Object(x.jsx)("span",{children:"github:"})," ",e.profile.contacts.github,Object(x.jsx)("br",{}),Object(x.jsx)("span",{children:"instagram:"})," ",e.profile.contacts.instagram,Object(x.jsx)("br",{}),Object(x.jsx)("span",{children:"mainLink:"})," ",e.profile.contacts.mainLink,Object(x.jsx)("br",{}),Object(x.jsx)("span",{children:"twitter:"})," ",e.profile.contacts.twitter,Object(x.jsx)("br",{}),Object(x.jsx)("span",{children:"vk:"})," ",e.profile.contacts.vk,Object(x.jsx)("br",{}),Object(x.jsx)("span",{children:"website:"})," ",e.profile.contacts.website,Object(x.jsx)("br",{}),Object(x.jsx)("span",{children:"youtube:"})," ",e.profile.contacts.youtube,Object(x.jsx)("br",{})]}),Object(x.jsx)("b",{children:"lookingForAJob:"})," ",e.profile.lookingForAJob?"yes":"no",Object(x.jsx)("br",{}),e.profile.lookingForAJob&&Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"lookingForAJobDescription:"})," ",e.profile.lookingForAJobDescription]})]})},A=n(46),D=n(29),M=function(e){var t=D.a().shape({fullName:D.c().required(" Field is required"),aboutMe:D.c().required(" Field is required")});return Object(x.jsx)("div",{children:Object(x.jsx)(A.b,{initialValues:e.profile,validateOnBlur:!0,onSubmit:function(t){e.saveProfile(t)},validationSchema:t,children:function(t){var n=t.values,r=t.errors,a=t.touched,c=t.handleChange,s=t.handleBlur,o=t.handleSubmit;return Object(x.jsxs)("form",{children:[Object(w.a)("Save profile",o,!1,e.backgroundButton,"submit"),Object(x.jsx)("br",{}),Object(x.jsx)("b",{children:"Full name: "}),Object(x.jsx)("input",{name:"fullName",onChange:c,onBlur:s,value:n.fullName}),a.fullName&&r.fullName&&Object(x.jsx)("span",{className:N.a.error,children:r.fullName}),Object(x.jsx)("br",{}),Object(x.jsx)("b",{children:"About me: "}),Object(x.jsx)("input",{name:"aboutMe",onChange:c,onBlur:s,value:n.aboutMe}),a.aboutMe&&r.aboutMe&&Object(x.jsx)("span",{className:N.a.error,children:r.aboutMe}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("b",{children:"My contacts: "}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:N.a.contacts,children:[Object(x.jsx)("span",{children:"facebook: "}),Object(x.jsx)("input",{name:"contacts.facebook",onChange:c,value:n.contacts.facebook}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{children:"github: "}),Object(x.jsx)("input",{name:"contacts.github",onChange:c,value:n.contacts.github}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{children:"instagram: "}),Object(x.jsx)("input",{name:"contacts.instagram",onChange:c,value:n.contacts.instagram}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{children:"mainLink: "}),Object(x.jsx)("input",{name:"contacts.mainLink",onChange:c,value:n.contacts.mainLink}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{children:"twitter: "}),Object(x.jsx)("input",{name:"contacts.twitter",onChange:c,value:n.contacts.twitter}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{children:"vk: "}),Object(x.jsx)("input",{name:"contacts.vk",onChange:c,value:n.contacts.vk}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{children:"website: "}),Object(x.jsx)("input",{name:"contacts.website",onChange:c,value:n.contacts.website}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{children:"youtube: "}),Object(x.jsx)("input",{name:"contacts.youtube",onChange:c,value:n.contacts.youtube}),Object(x.jsx)("br",{})]}),Object(x.jsx)("b",{children:"Looking for a job: "})," ",Object(x.jsx)(A.a,{name:"lookingForAJob",type:"checkbox"}),Object(x.jsx)("br",{}),Object(x.jsx)("b",{children:"My skills: "})," ",Object(x.jsx)("textarea",{name:"lookingForAJobDescription",onChange:c,value:n.lookingForAJobDescription})]})}})})},T=function(e){var t=e.profile,n=e.isOwner,a=e.saveProfile,c=e.wrongDataProfile,s=Object(r.useContext)(O.a),o=Object(r.useState)(!1),i=Object(P.a)(o,2),u=i[0],l=i[1];return Object(x.jsxs)("div",{className:N.a.description,style:{backgroundColor:s.backgroundContent},children:[n&&!1===u&&Object(w.a)("Edit",(function(){return l(!0)}),!1,s.backgroundButton),!u&&Object(x.jsx)(S,{profile:t}),u&&n&&Object(x.jsx)(M,{profile:t,saveProfile:function(e){a(e),l(!1)},backgroundButton:s.backgroundButton}),Object(x.jsx)("div",{className:N.a.error,children:c})]})},L=n(14),B=n.p+"static/media/heart.ecd2e1cc.png",E=function(e){var t=e.id,n=e.postMessage,r=e.likesCount,a=e.incrementLike;return Object(x.jsxs)("div",{className:N.a.post,children:[Object(x.jsx)("img",{src:"https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8aW5mb3JtYXRpb24lMjB0ZWNobm9sb2d5fGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&w=1000&q=80",alt:"icon"}),Object(x.jsxs)("div",{className:N.a.like,children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:B,onClick:function(){return a(t)},alt:"like"})}),r," likes"]}),n]})},I=n(28),F=function(e){var t=e.posts,n=e.sendPost,a=e.incrementLike,c=Object(r.useContext)(O.a),s=Object(L.a)(t).reverse().map((function(e){return Object(x.jsx)(E,{postMessage:e.postMessage,id:e.id,likesCount:e.likesCount,incrementLike:a},e.id)})),o=Object(r.useState)(""),i=Object(P.a)(o,2),u=i[0],l=i[1];return Object(x.jsxs)("div",{className:N.a.posts,style:{backgroundColor:c.backgroundContent,transition:"0.5s"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("h3",{children:"My posts"})}),Object(x.jsx)("div",{className:N.a.sendArea,children:Object(I.b)((function(e){l(e.currentTarget.value)}),u,(function(){n(u),l("")}),c.backgroundButton)}),Object(x.jsx)("div",{children:s})]})},W=n(113),H=Object(C.f)((function(e){var t=Object(r.useState)(!1),n=Object(P.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(e.status),o=Object(P.a)(s,2),i=o[0],u=o[1];Object(r.useEffect)((function(){u(e.status)}),[e.status]);return Object(x.jsxs)("div",{className:N.a.status,children:[!a&&Object(x.jsxs)("span",{className:e.isOwner?N.a.myStatus:null,onClick:e.isOwner?function(){c(!0)}:null,children:["Status: ",e.status]}),a&&Object(x.jsx)("div",{children:Object(x.jsx)("input",{autoFocus:!0,onBlur:function(){c(!1),e.updateStatus(i)},onChange:function(e){u(e.currentTarget.value)},value:i})})]})})),U=function(e){var t=Object(r.useContext)(O.a);return Object(x.jsxs)("div",{className:N.a.avatar,style:{backgroundColor:t.backgroundContent},children:[Object(x.jsx)("img",{src:e.photo||W.a,alt:"userIcon"}),e.isOwner&&Object(x.jsxs)("div",{className:N.a.uploadPhoto,children:[Object(x.jsx)("label",{htmlFor:"filePicker",style:{backgroundColor:t.backgroundButton},children:"Upload photo"}),Object(x.jsx)("input",{id:"filePicker",type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}})]}),Object(x.jsx)("div",{className:N.a.error,children:e.wrongDataAva}),Object(x.jsx)("h2",{children:e.fullName}),Object(x.jsx)(H,{updateStatus:e.updateStatus,status:e.status,isOwner:e.isOwner})]})},R=n(5),J=n.n(R),V=n(16),G=n(2),q=n(17),z="profile/SEND_POST",K="profile/SET_PROFILE",Z="profile/SET_STATUS",X="profile/SAVE_PHOTO_SUCCESS",Y="profile/WRONG_DATA_AVA",Q="profile/WRONG_DATA_PROFILE",$="profile/INCREMENT_LIKE",ee={profile:{fullName:null,photos:{small:null,large:null},aboutMe:null,contacts:{facebook:null,github:null,instagram:null,mainLink:null,twitter:null,vk:null,website:null,youtube:null},lookingForAJob:null,lookingForAJobDescription:null},posts:[{id:0,postMessage:"I learning JS...",likesCount:12},{id:1,postMessage:"HTML!",likesCount:9},{id:2,postMessage:"CSS",likesCount:7},{id:3,postMessage:"React",likesCount:5},{id:4,postMessage:"redux",likesCount:4},{id:5,postMessage:"TypeScript and React Native will be learn",likesCount:1}],status:"",wrongData:null},te=function(e){return{type:Z,status:e}},ne=function(e){return{type:X,file:e}},re=function(e){return{type:Y,error:e}},ae=function(e){return{type:Q,error:e}},ce=function(e){return function(){var t=Object(V.a)(J.a.mark((function t(n){var r,a;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(h.e)(!0)),t.next=3,q.a.getProfile(e);case 3:return r=t.sent,n((c=r.data,{type:K,data:c})),t.next=7,q.a.getStatus(e);case 7:return a=t.sent,n(te(a.data)),t.next=11,Promise.all([r,a]);case 11:n(Object(h.e)(!1));case 12:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:var n={id:e.posts.length,postMessage:t.post,likesCount:0};return Object(G.a)(Object(G.a)({},e),{},{posts:[].concat(Object(L.a)(e.posts),[n])});case K:return Object(G.a)(Object(G.a)({},e),{},{profile:Object(G.a)({},t.data)});case Z:return Object(G.a)(Object(G.a)({},e),{},{status:t.status});case X:return Object(G.a)(Object(G.a)({},e),{},{profile:Object(G.a)(Object(G.a)({},e.profile),{},{photos:Object(G.a)(Object(G.a)({},e.profile.photos),{},{large:t.file})})});case Y:return Object(G.a)(Object(G.a)({},e),{},{wrongDataAva:t.error});case Q:return Object(G.a)(Object(G.a)({},e),{},{wrongDataProfile:t.error});case $:return(e=Object(G.a)({},e)).posts=Object(L.a)(e.posts),e.posts[t.id]=Object(G.a)(Object(G.a)({},e.posts[t.id]),{},{likesCount:e.posts[t.id].likesCount+1}),e;default:return e}},oe=n(61),ie=n(114),ue=n(34),le=function(e){return e.profilePage.posts},be=function(e){return e.profilePage.profile},de=function(e){return e.profilePage.status},je=function(e){return e.profilePage.wrongDataAva},pe=function(e){return e.profilePage.wrongDataProfile},fe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).updateStatus=function(t){e.props.updateStatusThunk(t)},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userId),e&&this.props.getProfileAndStatusThunk(e)}},{key:"render",value:function(){return Object(x.jsxs)("div",{className:N.a.profile,children:[this.props.isFetching&&Object(x.jsx)(oe.a,{}),Object(x.jsx)(U,{photo:this.props.profile.photos.large,fullName:this.props.profile.fullName,updateStatus:this.updateStatus,status:this.props.status,userId:this.props.userId,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,wrongDataAva:this.props.wrongDataAva}),Object(x.jsx)(T,{profile:this.props.profile,isOwner:!this.props.match.params.userId,saveProfile:this.props.saveProfile,wrongDataProfile:this.props.wrongDataProfile}),Object(x.jsx)(F,{posts:this.props.posts,sendPost:this.props.sendPost,backgroundContent:this.props.backgroundContent,incrementLike:this.props.incrementLike})]})}}]),n}(a.a.Component),he=Object(ue.c)(ie.a,C.f,Object(f.b)((function(e){return{posts:le(e),profile:be(e),status:de(e),isFetching:Object(g.d)(e),userId:Object(g.b)(e),wrongDataAva:je(e),wrongDataProfile:pe(e)}}),{sendPost:function(e){return{type:z,post:e}},getProfileAndStatusThunk:ce,updateStatusThunk:function(e){return function(){var t=Object(V.a)(J.a.mark((function t(n){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q.a.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(te(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(V.a)(J.a.mark((function t(n){var r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(h.e)(!0)),t.next=3,q.a.savePhoto(e);case 3:r=t.sent,n(Object(h.e)(!1)),0===r.data.resultCode?n(ne(r.data.data.photos.large)):(n(re(r.data.messages[0])),setTimeout((function(){n(re(null))}),3e3));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(V.a)(J.a.mark((function t(n,r){var a,c;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(h.e)(!0)),t.next=3,q.a.saveProfile(e);case 3:a=t.sent,n(Object(h.e)(!1)),0===a.data.resultCode?(c=r().auth.id,n(ce(c))):(n(ae(a.data.messages[0])),setTimeout((function(){n(ae(null))}),3e3));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},incrementLike:function(e){return{type:$,id:e}}}))(fe),Oe=n(39),ge=n.n(Oe),xe=Object(f.b)((function(e){return{isAuth:Object(g.c)(e),wrongData:Object(g.e)(e),captchaUrl:Object(g.a)(e)}}),{logined:h.c})((function(e){var t=e.isAuth,n=e.wrongData,a=e.captchaUrl,c=e.logined,s=Object(r.useContext)(O.a),o=D.a().shape({login:D.c().required("Field is required"),password:D.c().required("Field is required"),confirmPassword:D.c().oneOf([D.b("password")],"Wrong confirm password").required("Field is required")});return Object(x.jsxs)("div",{className:ge.a.login,children:[t&&Object(x.jsx)(C.a,{to:"/profile"}),Object(x.jsx)(A.b,{initialValues:{login:"",password:"",confirmPassword:"",rememberMe:!1,captcha:null},validateOnBlur:!0,onSubmit:function(e){c(e.login,e.password,e.rememberMe,e.captcha)},validationSchema:o,children:function(e){var t=e.values,r=e.errors,c=e.touched,o=e.handleChange,i=e.handleBlur,u=e.isValid,l=e.handleSubmit,b=e.dirty;return Object(x.jsxs)("div",{className:ge.a.form,children:[Object(x.jsxs)("div",{className:ge.a.fieldWithValidate,children:[Object(I.a)("login",o,i,"login",t.input),c.login&&r.login&&Object(x.jsx)("span",{children:r.login})]}),Object(x.jsxs)("div",{className:ge.a.fieldWithValidate,children:[Object(I.a)("password",o,i,"password",t.password,"password"),c.password&&r.password&&Object(x.jsx)("span",{children:r.password})]}),Object(x.jsxs)("div",{className:ge.a.fieldWithValidate,children:[Object(I.a)("confirmPassword",o,i,"confirmPassword",t.confirmPassword,"password"),c.confirmPassword&&r.confirmPassword&&Object(x.jsx)("span",{children:r.confirmPassword})]}),Object(x.jsxs)("div",{className:ge.a.rememberMe,children:["Remember me ",Object(x.jsx)(A.a,{name:"rememberMe",type:"checkbox"})]}),Object(x.jsxs)("div",{className:ge.a.error,children:[n?Object(x.jsx)("span",{children:n}):null,a?Object(x.jsxs)("div",{children:[Object(x.jsx)("img",{src:a,alt:"captcha"}),Object(x.jsx)("br",{}),Object(I.a)("captcha",o,null,"Enter code",t.captcha)]}):null]}),Object(x.jsx)("div",{children:Object(w.a)("Log in",l,!u&&!b,s.backgroundButton,"submit")})]})}})]})})),ve=a.a.lazy((function(){return n.e(3).then(n.bind(null,266))})),me=a.a.lazy((function(){return n.e(4).then(n.bind(null,267))})),ke=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.initializing()}},{key:"render",value:function(){return this.props.initialized?Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(O.a.Provider,{value:{backgroundHeaderNavbar:this.props.backgroundHeaderNavbar,backgroundContent:this.props.backgroundContent,backgroundButton:this.props.backgroundButton},children:[Object(x.jsx)(v,{}),Object(x.jsx)(_,{}),Object(x.jsxs)("div",{className:"content",style:{backgroundColor:this.props.backgroundContent},children:[Object(x.jsx)(C.b,{exact:!0,path:"/",render:function(){return Object(x.jsx)(he,{})}}),Object(x.jsx)(C.b,{exact:!0,path:"/profile",render:function(){return Object(x.jsx)(he,{})}}),Object(x.jsx)(C.b,{path:"/profile/:userId",render:function(){return Object(x.jsx)(he,{})}}),Object(x.jsx)(a.a.Suspense,{fallback:"Loading...",children:Object(x.jsxs)("div",{children:[Object(x.jsx)(C.b,{path:"/dialogs",render:function(){return Object(x.jsx)(ve,{})}}),Object(x.jsx)(C.b,{path:"/users",render:function(){return Object(x.jsx)(me,{})}})]})}),Object(x.jsx)(C.b,{path:"/login",render:function(){return Object(x.jsx)(xe,{})}})]})]})}):Object(x.jsx)(oe.a,{})}}]),n}(a.a.Component),we=Object(ue.c)(C.f,Object(f.b)((function(e){return{initialized:e.app.initialized,backgroundContent:e.app.backgroundContent,backgroundButton:e.app.backgroundButton,backgroundHeaderNavbar:e.app.backgroundHeaderNavbar}}),{initializing:O.c}))(ke),_e=n(115),Ce=n(116),ye=n(126),Ne=n(262),Pe=Object(ue.b)({profilePage:se,dialogsPage:_e.a,usersPage:Ce.a,auth:h.a,app:O.b,form:Ne.a}),Se=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ue.c,Ae=Object(ue.d)(Pe,Se(Object(ue.a)(ye.a))),De=Ae;window.store=Ae;var Me=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,265)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(x.jsx)(p.a,{children:Object(x.jsx)(f.a,{store:De,children:Object(x.jsx)(we,{})})}),document.getElementById("root")),Me()},28:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(2),a=(n(1),n(25)),c=n(0),s=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(r.a)(Object(r.a)({},e),a):e}))},o=function(e,t,n,r,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return Object(c.jsx)("input",{name:e,onChange:t,onBlur:n,placeholder:r,value:a,type:s})},i=function(e,t,n,r){return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsx)("textarea",{onChange:e,value:t})}),Object(c.jsx)("div",{children:Object(a.a)("SEND",n,""===t,r)})]})}},33:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=function(e){return e.auth.isFetching},a=function(e){return e.auth.isAuth},c=function(e){return e.auth.wrongData},s=function(e){return e.auth.captchaUrl},o=function(e){return e.auth.id}},39:function(e,t,n){e.exports={login:"Login_login__1dWk1",fieldWithValidate:"Login_fieldWithValidate__1NkZP",error:"Login_error__3zBVT",form:"Login_form__2M3wq"}},52:function(e,t,n){e.exports={header:"Header_header__39ywA",login:"Header_login__2xB2u",headerImg:"Header_headerImg__2kKg8"}},61:function(e,t,n){"use strict";var r=n.p+"static/media/spiner.9e5df79f.svg",a=n(125),c=n.n(a),s=n(0);t.a=function(){return Object(s.jsx)("div",{className:c.a.loading,children:Object(s.jsx)("img",{src:r,alt:r})})}},68:function(e,t,n){e.exports={navbar:"Navbar_navbar__3LmFv",links:"Navbar_links__2MUu1",themeButtons:"Navbar_themeButtons__3PGwI"}},8:function(e,t,n){e.exports={profile:"Profile_profile__37V7f",avatar:"Profile_avatar__e_kRu",uploadPhoto:"Profile_uploadPhoto__32ouc",myStatus:"Profile_myStatus__39wyn",description:"Profile_description__35f18",posts:"Profile_posts__5UqFO",sendArea:"Profile_sendArea__3Jpjl",post:"Profile_post__2mN3Q",like:"Profile_like__2sSCQ",error:"Profile_error__2nd0E"}}},[[260,1,2]]]);
//# sourceMappingURL=main.e65a5920.chunk.js.map