{"version":3,"sources":["components/Users/Users.module.css","components/Users/User.jsx","common/Paginator.js","store/usersSelectors.js","components/Users/Users.jsx"],"names":["module","exports","User","props","theme","useContext","ThemeContext","className","classes","user","inline","to","id","src","photo","userIcon","alt","description","name","isAuth","button","followed","Button","unfollow","isDisable","some","el","backgroundButton","follow","Paginator","getUsers","currentPage","totalCount","pageSize","pagePortion","useState","numberOfPagePortion","setNumberOfPagePortion","totalPage","Math","ceil","leftBorderOfPortion","rightBorderOfPortion","pages","i","push","pageList","map","p","onClick","paginator","state","usersPage","users","getTotalCount","getPageSize","getCurrentPage","getIsDisable","Users","page","getUsersThunk","userId","followThunk","unfollowThunk","this","usersList","u","photos","small","style","backgroundColor","context","backgroundContent","isFetching","Loading","React","Component","contextType","connect","getIsFetching","getIsAuth"],"mappings":"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","file":"static/js/4.810021a4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__2rRt0\",\"currentPage\":\"Users_currentPage__5xvai\",\"paginator\":\"Users_paginator__puduz\",\"pages\":\"Users_pages__3gWjO\",\"user\":\"Users_user__3XetG\",\"inline\":\"Users_inline__3et9t\",\"description\":\"Users_description__3QGGl\"};","import React, {useContext} from 'react';\r\nimport classes from './Users.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport userIcon from './../../images/userIcon.jpg';\r\nimport {Button} from '../../common/button';\r\nimport {ThemeContext} from '../../store/appReducer';\r\n\r\nconst User = (props) => {\r\n    const theme = useContext(ThemeContext);\r\n    return <div className={classes.user}>\r\n        <div className={classes.inline}>\r\n            <NavLink to={`/profile/${props.id}`}><img src={props.photo || userIcon} alt={'userIcon'}/></NavLink>\r\n        </div>\r\n\r\n        <div className={classes.inline + ' ' + classes.description}>\r\n            <div><b>{props.name}</b></div>\r\n        </div>\r\n        {props.isAuth\r\n            ? <div className={classes.button}>\r\n                {props.followed\r\n                    ? Button('UNFOLLOW', () => props.unfollow(props.id), props.isDisable.some(el => el === props.id), theme.backgroundButton)\r\n                    : Button('FOLLOW', () => props.follow(props.id), props.isDisable.some(el => el === props.id), theme.backgroundButton)\r\n                }\r\n            </div>\r\n            : null\r\n        }\r\n        <hr/>\r\n    </div>\r\n}\r\n\r\nexport default User;","import React, {useContext, useState} from 'react';\r\nimport classes from '../components/Users/Users.module.css';\r\nimport {Button} from './button';\r\nimport {ThemeContext} from '../store/appReducer';\r\n\r\nexport const Paginator = ({getUsers, currentPage, totalCount, pageSize}) => {\r\n    const theme = useContext(ThemeContext);\r\n\r\n    let pagePortion = 10;\r\n    let [numberOfPagePortion, setNumberOfPagePortion] = useState(1);\r\n    let totalPage = Math.ceil(totalCount / pageSize);\r\n    let leftBorderOfPortion = numberOfPagePortion * pagePortion - (pagePortion - 1);\r\n    let rightBorderOfPortion = totalPage / pagePortion && numberOfPagePortion * pagePortion;\r\n    if (numberOfPagePortion === Math.ceil(totalPage / pagePortion)) {\r\n        rightBorderOfPortion = totalPage\r\n    }\r\n\r\n    let pages = [];\r\n    for (let i = leftBorderOfPortion; i <= rightBorderOfPortion; i++) {\r\n        pages.push(i);\r\n    }\r\n    let pageList = pages.map(p => <div className={classes.pages} key={p}><span\r\n        onClick={() => getUsers(p)}\r\n        className={p === currentPage ? classes.currentPage : null}>{p}</span></div>)\r\n\r\n    return <div className={classes.paginator}>\r\n        <div>\r\n            {Button('☚', () => setNumberOfPagePortion(numberOfPagePortion - 1),\r\n                numberOfPagePortion === 1, theme.backgroundButton)}\r\n            {pageList}\r\n            {Button('☛', () => setNumberOfPagePortion(numberOfPagePortion + 1),\r\n                numberOfPagePortion === Math.ceil(totalPage / pagePortion), theme.backgroundButton)}\r\n        </div>\r\n    </div>;\r\n}","export const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getTotalCount = (state) => {\r\n    return state.usersPage.totalCount\r\n}\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsDisable = (state) => {\r\n    return state.usersPage.isDisable\r\n}\r\nexport const getBackgroundContent = (state) => {\r\n    return state.app.backgroundContent\r\n}","import React from 'react';\r\nimport classes from './Users.module.css';\r\nimport {connect} from 'react-redux';\r\nimport User from './User';\r\nimport {followThunk, getUsersThunk, unfollowThunk} from '../../store/usersReducer';\r\nimport {Paginator} from '../../common/Paginator';\r\nimport Loading from '../../common/Loading';\r\nimport {\r\n    getCurrentPage,\r\n    getIsDisable,\r\n    getPageSize,\r\n    getTotalCount,\r\n    getUsers\r\n} from '../../store/usersSelectors';\r\nimport {getIsAuth, getIsFetching} from '../../store/authSelectors';\r\nimport {ThemeContext} from './../../store/appReducer'\r\n\r\nclass Users extends React.Component {\r\n    static contextType = ThemeContext;\r\n    componentDidMount() {\r\n        this.props.getUsersThunk();\r\n    }\r\n\r\n    getUsers = (page) => {\r\n        this.props.getUsersThunk(page, this.props.pageSize);\r\n    }\r\n\r\n    follow = (userId) => {\r\n        this.props.followThunk(userId);\r\n    }\r\n\r\n    unfollow = (userId) => {\r\n        this.props.unfollowThunk(userId);\r\n    }\r\n\r\n    render() {\r\n        let usersList = this.props.users.map(u => <User key={u.id}\r\n                                                        id={u.id}\r\n                                                        photo={u.photos.small}\r\n                                                        name={u.name}\r\n                                                        followed={u.followed}\r\n                                                        follow={this.follow}\r\n                                                        unfollow={this.unfollow}\r\n                                                        isDisable={this.props.isDisable}\r\n                                                        isAuth={this.props.isAuth}\r\n        />)\r\n\r\n        return <div className={classes.users} style={{\r\n            backgroundColor: this.context.backgroundContent}}>\r\n            {this.props.isFetching && <Loading/>}\r\n\r\n            <Paginator {...this.props}\r\n                       getUsers={this.getUsers}/>\r\n            {usersList}\r\n        </div>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        totalCount: getTotalCount(state),\r\n        pageSize: getPageSize(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        isDisable: getIsDisable(state),\r\n        isAuth: getIsAuth(state),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,\r\n    {followThunk, unfollowThunk, getUsersThunk})(Users);"],"sourceRoot":""}